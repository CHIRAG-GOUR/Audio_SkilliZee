<meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title></title>
<link href="https://fonts.googleapis.com/css2?family=Bangers&amp;family=Comic+Neue:wght@700&amp;family=Luckiest+Guy&amp;display=swap" rel="stylesheet" /><!-- jsPDF + html2canvas for PDF generation --><script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<style type="text/css">body {
      font-family: 'Comic Neue', cursive;
      background: linear-gradient(135deg, #fff5fb 0%, #f8e8f0 100%);
      color: #111;
      margin: 0;
      padding: 20px;
      min-height: 100vh;
    }
    .container {
      max-width: 1100px;
      margin: 0 auto;
      background: white;
      border: 12px solid #c00;
      border-radius: 24px;
      box-shadow: 14px 14px 0 #000;
      padding: 30px;
      overflow: hidden;
    }
    h1 {
      font-family: 'Luckiest Guy', cursive;
      color: #c00;
      text-align: center;
      font-size: 3.6rem;
      text-shadow: 6px 6px 0 #000;
      margin: 0 0 20px;
    }
    .intro {
      font-size: 1.45rem;
      text-align: center;
      margin-bottom: 30px;
      font-weight: bold;
    }
    .requirement {
      background: #ffeb3b;
      border: 6px dashed #c00;
      border-radius: 20px;
      padding: 18px;
      margin: 20px 0;
      font-size: 1.4rem;
      text-align: center;
      box-shadow: 8px 8px 0 #000;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 30px 0;
      font-size: 1.25rem;
      background: #fff;
    }
    th, td {
      border: 4px solid #000;
      padding: 14px;
      text-align: left;
      vertical-align: top;
    }
    th {
      background: #ffeb3b;
      color: #c00;
      font-weight: bold;
      text-align: center;
    }
    td {
      background: #f9f9f9;
    }
    .image-cell {
      text-align: center;
    }
    .image-preview {
      max-width: 180px;
      max-height: 180px;
      margin-top: 10px;
      border: 4px solid #c00;
      border-radius: 12px;
      box-shadow: 6px 6px 0 #000;
      display: none;
    }
    input[type="file"] {
      margin: 10px 0;
    }
    .add-row-btn {
      background: #c00;
      color: white;
      border: none;
      padding: 14px 28px;
      font-size: 1.4rem;
      border-radius: 50px;
      cursor: pointer;
      margin: 20px auto;
      display: block;
      font-family: 'Bangers', cursive;
      box-shadow: 8px 8px 0 #000;
      transition: all 0.2s;
    }
    .add-row-btn:hover {
      transform: scale(1.08);
      background: #900;
    }
    .download-btn {
      background: #FFD700;
      color: #c00;
      border: none;
      padding: 16px 40px;
      font-size: 1.6rem;
      border-radius: 50px;
      cursor: pointer;
      margin: 30px auto;
      display: block;
      font-family: 'Luckiest Guy', cursive;
      box-shadow: 10px 10px 0 #000;
      transition: all 0.2s;
    }
    .download-btn:hover {
      transform: scale(1.1);
      background: #ffeb3b;
    }
    .submit-note {
      text-align: center;
      font-size: 1.3rem;
      color: #444;
      margin-top: 20px;
    }
</style>
<div class="container">
<h1>Activity 3.1 &ndash; Data Wishlist Table</h1>

<p class="intro">Plan what your Locality Guide AI should know!<br />
Fill at least <strong>4 rows</strong> &mdash; one row per category.</p>

<div class="requirement">★ You must complete <strong>at least 4 full rows</strong> to finish this activity!<br />
Change the text in all the boxes , don&#39;t use the example given below★</div>

<table id="wishlistTable">
	<thead>
		<tr>
			<th>Category</th>
			<th>3 Things I Want AI to Know</th>
			<th>Why is it important?</th>
			<th>Photo / Visual Reference<br />
			(upload image)</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td contenteditable="true">Popular Food</td>
			<td contenteditable="true">Dal Baati Churma, Ghevar, Ker Sangri</td>
			<td contenteditable="true">Famous Rajasthani dishes every newcomer should try!</td>
			<td class="image-cell"><input accept="image/*" onchange="previewImage(this)" type="file" /> <img alt="Preview" class="image-preview" /></td>
		</tr>
		<tr>
			<td contenteditable="true">Tourist Places</td>
			<td contenteditable="true">Hawa Mahal, Amber Fort, Jal Mahal</td>
			<td contenteditable="true">Iconic landmarks that represent our city&#39;s beauty</td>
			<td class="image-cell"><input accept="image/*" onchange="previewImage(this)" type="file" /> <img alt="Preview" class="image-preview" /></td>
		</tr>
		<tr>
			<td contenteditable="true">Plants</td>
			<td contenteditable="true">Khejri, Neem, Rohida</td>
			<td contenteditable="true">Special desert plants that survive in Rajasthan</td>
			<td class="image-cell"><input accept="image/*" onchange="previewImage(this)" type="file" /> <img alt="Preview" class="image-preview" /></td>
		</tr>
		<tr>
			<td contenteditable="true">Greetings</td>
			<td contenteditable="true">Ram Ram!, Khamma Ghani, Jai Shri Ram</td>
			<td contenteditable="true">Traditional way to welcome people warmly</td>
			<td class="image-cell"><input accept="image/*" onchange="previewImage(this)" type="file" /> <img alt="Preview" class="image-preview" /></td>
		</tr>
	</tbody>
</table>
<button class="add-row-btn" onclick="addRow()">+ Add New Row</button><button class="download-btn" onclick="downloadAsPDF()">Download as PDF (with images)</button>

<p class="submit-note">After downloading:<br />
1. Open the .pdf file (in browser or PDF viewer)<br />
2. See your table exactly as created (with images)<br />
3. Upload the PDF file to the assignment below</p>

<p class="submit-note" style="margin-top:1.5rem; font-size:1.2rem;">Tip: If download doesn&#39;t start, try in a new tab or check popup blocker</p>
</div>
<script>
// Add new row
function addRow() {
  const table = document.getElementById('wishlistTable').getElementsByTagName('tbody')[0];
  const newRow = table.insertRow();

  for (let i = 0; i < 4; i++) {
    const cell = newRow.insertCell();
    if (i === 3) {
      cell.className = 'image-cell';
      cell.innerHTML = `
        <input type="file" accept="image/*" onchange="previewImage(this)">
        <img class="image-preview" alt="Preview">
      `;
    } else {
      cell.contentEditable = true;
      cell.innerText = i === 0 ? "New Category" : "";
    }
  }
}

// Image preview
function previewImage(input) {
  const preview = input.nextElementSibling;
  if (input.files && input.files[0]) {
    const reader = new FileReader();
    reader.onload = function(e) {
      preview.src = e.target.result;
      preview.style.display = 'block';
    }
    reader.readAsDataURL(input.files[0]);
  }
}

// Generate and download PDF
async function downloadAsPDF() {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  doc.setFontSize(20);
  doc.setTextColor(200, 0, 0);
  doc.text("Data Wishlist Table – Locality Guide", 105, 20, { align: "center" });

  const tableElement = document.getElementById('wishlistTable');

  try {
    const canvas = await html2canvas(tableElement, {
      scale: 2,
      useCORS: true,
      logging: false
    });

    const imgData = canvas.toDataURL('image/png');
    const imgWidth = 190;
    const pageHeight = doc.internal.pageSize.height;
    const imgHeight = (canvas.height * imgWidth) / canvas.width;

    let heightLeft = imgHeight;
    let position = 30;

    doc.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);
    heightLeft -= pageHeight - position;

    while (heightLeft > 0) {
      position = heightLeft - imgHeight;
      doc.addPage();
      doc.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);
      heightLeft -= pageHeight;
    }

    doc.save('Data_Wishlist_Table.pdf');
    alert("PDF downloaded successfully!\nOpen it to see your table + images.\nUpload this file to the assignment.");
  } catch (err) {
    alert("PDF generation failed: " + err.message + "\n\nFallback: Copy the table manually (Ctrl+A inside table → Ctrl+C) and paste into Word → Save as PDF");
  }
}
</script>
